<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Manage Children - Detection to Direction</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- NEW Design System -->
  <link rel="stylesheet" href="/css/tokens.css">
  <link rel="stylesheet" href="/css/components.css">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Navigation -->
  <nav class="navbar">
    <div class="container navbar-container">
      <a href="/" class="navbar-brand">
        <span id="logo-icon"></span>
        Detection to Direction
      </a>
      <button class="navbar-toggle" id="mobile-menu-toggle" aria-label="Toggle menu">
        <span id="menu-icon"></span>
      </button>
      <ul class="navbar-nav" id="navbar-menu">
        <li><a href="/" class="navbar-link">Home</a></li>
        <li><a href="/screening.html" class="navbar-link">Screening</a></li>
        <li><a href="/add_child.html" class="navbar-link active">Children</a></li>
        <li><a href="/therapists.html" class="navbar-link">Therapists</a></li>
        <li><a href="/help.html" class="navbar-link">Help</a></li>
        <li><a href="/login.html" class="navbar-link" id="account-link">Account</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <main id="main-content">
    <div class="container container-sm" style="padding-top: var(--space-8); padding-bottom: var(--space-8);">

      <!-- Breadcrumb -->
      <nav aria-label="Breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/">Home</a></li>
          <li class="breadcrumb-item active">Children</li>
        </ol>
      </nav>

      <!-- Page Header -->
      <div style="margin-bottom: var(--space-6);">
        <h1 style="margin-bottom: var(--space-2);">
          <span id="child-header-icon"></span>
          Manage Children
        </h1>
        <p class="text-muted" style="font-size: var(--font-size-md);">
          Add and manage child profiles to track screenings and progress.
        </p>
      </div>

      <!-- Add Child Form -->
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Add New Child</h2>
          <p class="card-description">Enter your child's information below</p>
        </div>

        <form id="childForm">
          <div class="card-body">
            <div class="form-group">
              <label for="childName" class="form-label form-label-required">
                Child's Name
              </label>
              <input
                type="text"
                id="childName"
                name="name"
                class="form-input"
                placeholder="Enter child's full name"
                required
              >
            </div>

            <div class="form-group">
              <label for="childAge" class="form-label form-label-required">
                Age
              </label>
              <input
                type="number"
                id="childAge"
                name="age"
                class="form-input"
                min="1"
                max="25"
                placeholder="Enter age"
                required
              >
              <span class="form-helper">Age in years</span>
            </div>

            <div class="form-group">
              <label for="childNotes" class="form-label">
                Behavioral Notes (Optional)
              </label>
              <textarea
                id="childNotes"
                name="notes"
                class="form-textarea"
                rows="4"
                placeholder="Any observations or concerns about your child's development or behavior..."
              ></textarea>
              <span class="form-helper">These notes can help track patterns over time</span>
            </div>

            <div id="childMsg"></div>
          </div>

          <div class="card-footer">
            <button type="submit" class="btn btn-primary">
              <span id="add-icon"></span>
              Add Child
            </button>
            <a href="/" class="btn btn-ghost">Cancel</a>
          </div>
        </form>
      </div>

      <!-- Children List -->
      <div class="card" style="margin-top: var(--space-6);">
        <div class="card-header">
          <h2 class="card-title">Your Children</h2>
          <p class="card-description">Manage existing child profiles</p>
        </div>
        <div class="card-body">
          <div id="childrenList"></div>
        </div>
      </div>

    </div>
  </main>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Scripts -->
  <script src="/js/icons.js"></script>
  <script src="/js/state.js"></script>
  <script src="/js/toast.js"></script>
  <script src="/js/app.js"></script>
  <script>
    // Initialize icons
    document.getElementById('logo-icon').innerHTML = getIcon('brain');
    document.getElementById('menu-icon').innerHTML = getIcon('menu');
    document.getElementById('child-header-icon').innerHTML = getIcon('users');
    document.getElementById('add-icon').innerHTML = getIcon('plus');

    // Mobile menu toggle
    document.getElementById('mobile-menu-toggle')?.addEventListener('click', function() {
      const menu = document.getElementById('navbar-menu');
      const isOpen = menu.classList.toggle('open');
      this.setAttribute('aria-expanded', isOpen);
      this.querySelector('span').innerHTML = isOpen ? getIcon('x') : getIcon('menu');
    });
  </script>
</body>
</html>